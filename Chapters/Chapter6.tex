\section{Discussion}
WSNs can change everyone's life drastically and can be applied to many different areas. WSNs can help reduce CO$_{2}$ emissions for example. In a city where each parking space logs its occupation, a car can be guided to the nearest free spot. We have no doubt this technology has a bright future.
\section{Future Work}
The WSN Test-bed can be extended with the newer version of the Waspmote. Since the new Waspmotes provide an interrupt which enables the XBee to wake the Waspmote PRO, these ones should be used as end devices and the current versions should be used as routers.\\
In the preparation phase of this thesis we also created a simple XBee ZigBee module which runs on two AA batteries and is able to monitor a few sensors (see appendix \ref{mob}). Since these nodes are much cheaper than Libelium's hardware it would be nice if these nodes could also be integrated into the network. Unfortunately, because developing with the first generation Waspmotes took longer then expected, we could not test this any more. To realize this, one should extend the Libelium API with a function that is also able to read default API packets (without needing Libelium's extra application header).\\
At this moment, the test-bed will only accept request by authorized nodes (by default this is only the gateway). It would be a nice challenge to send the data encrypted as extra security. One must take in mind that this takes extra processor power and thus power consumption.\\   
The gateway has mostly been tested on a computer with plenty of memory and processing power. Optimizing this program for an embedded device is certainly possible. For instance, packets that could not be sent to Libelium are cached in memory. On embedded devices memory is limited so when memory is getting full these packets should be stored in a database until Ipsum is back online.\\
On the web service part it would be good to send a more detailed reply back to the client. Now only XML and URL are checked but if a node doesn't exist this is only detected in the main thread and the client is not notified of this error. The problem is that there are 20 threads to handle incoming requests. If the main detects a problem with a request it is hard to tell to which thread it should reply this problem since all the web service threads put packets in only one queue.\\
There is no way to communicate back to the client when something happens in the ZigBee network. If on Ipsum a sort of notification system could be installed where the gateway can put announcements or errors and the client would poll these announcements some more information about the status of the network could be delivered. For instance the pluvio sensor, which detects rain, works on interrupt basis. When this interrupt occurs for the first time in a longer period of time, we can assume it started raining. This could then be communicated back to the client trough an announcement. Or if the client requested an add node or add sensor but the ZigBee failed to reply in a certain amount of time it could be announced that this packet failed to deliver.\\
The program also has an SQL database. When this database fills up there is no strategy as what to when we run out of storage space. There are other and better database structures to deal with this.
â€ƒ
\section{Conclusion}
During this thesis we successfully developed the WSN Test-bed, the gateway and the web client. To further expand the sensing capabilities of the WSN, we added a waterproof weather station mounted on a custom fitted stainless steel construction to guarantee long term operation.\\
For the ZigBee network the main challenges were power consumption and the responsiveness towards the users. To achieve low power consumption, long sleep periods are necessary, however this deteriorates the response time of the network. ZigBee has several good sleep options and supports wake on interrupt thus combining low power consumption with a high responsiveness. The first generation Waspmote does not support this, but the second generation does. By integrating the second generation Wasmpote PRO into the network, end devices can be made more responsive, increasing the overall network performance. ZigBee as a low power, low throughput networking protocol lives up to its expectations.\\
%Memory management on embedded devices is always a challenge. 
Also while developing the gateway different challenges were faced. Different services had to be connected to one another. Establishing the program structure required an iterative approach. Once this design was known, a decision had to be made on how to transfer information between the threads. We developed a lightweight solution using queues to achieve this. The gateway also provides certain features to avoid data loss. Since the gateway had to be multithreaded concurrency issues are avoided by using the necessary tools from the Boost library. Since the gateway is exposed to the outside world so that the client can access it, HTTPS is used as a safe means of communication. To verify the requirement that the gateway software can run on an embedded device, we successfully ported the program to a Raspberry Pi. This is a cheap solution in anticipation of a more permanent server.\\
The overall result is a controllable WSN test-bed in which new nodes and sensors can easily be integrated. Also the sensor data can be consulted in different formats via the web interface. This is the result of a good cooperation between all parties involved.

\section{Acknowledgements}
We would like to thank many people who have helped us with the completion of this dissertation. First of all we want to thank our supervisor, Luc Vandeurzen, for his guidance on technical as well as non-technical matters.\\
We are also thankful to Koen Pelsmaekers, who helped putting requirements together for the entire WSN, Ipsum and the web application project. To Ruben Tacq, who developed and helped us on our way with Ipsum.\\
We are beyond grateful to Matthias Verhelst, who worked on the development of the web interface for the WSN test-bed and for the cooperation in combining the different projects. To our parents for all there support, and especially Albert Deraeve, for transforming the weather station model into an exquisite construction.\\
Furthermore we would like to thank the people at Libelium for their advice on the Waspmote sketches.\\
Finally we want to thank Group T, for offering us the Libelium University Lab Kit and infrastructure to test and deploy our results. 